# אפיון פאנל שבת חי

מסמך זה מגדיר את החזון, מבנה המידע והשלבים למימוש פאנל שבת דינמי שירוץ בטלוויזיה ביתית ויציג תכנים מתחלפים לאורך השבת.

## מטרות חווייתיות

- תצוגה רציפה במסך מלא ללא צורך באינטראקציה (מצב kiosk).
- חוויית “שולחן שבת חי” עם מסרים מתחלפים: זמן, ברכות, ציטוטים, משימות חסד, קלפים.
- עיצוב מרגיע, קריא ממרחק, ללא שימוש ב־SVG (שימוש ב־CSS ו־PNG בלבד).
- שקיפות לגבי הזמן: הדגשת כניסת/יציאת שבת וסטטוס התקדמות (countdown/elapsed).

## מבנה עמוד מוצע (`shabbat-panel.html`)

```html
<body class="panel">
  <header class="panel-header">
    <div class="logo">מאגר שבת חי</div>
    <div class="time-block">
      <div class="current-time">20:15</div>
      <div class="shabbat-status">כניסת שבת בעוד 00:42</div>
    </div>
    <button class="fullscreen-trigger">מסך מלא</button>
  </header>

  <main class="panel-content">
    <section class="hero-quote">...</section>
    <section class="detail-card">...</section>
    <aside class="sidebar">
      <div class="ticker">...</div>
      <div class="next-card">...</div>
    </aside>
  </main>

  <footer class="panel-footer">
    <div class="progress-bar"><span></span></div>
    <div class="meta-info">סט: פתיחת שבת · קלף #003</div>
  </footer>
</body>
```

### סגנון עיצוב

- רקע: gradient עדין (ללא SVG), עם אנימציית keyframes שבונה תנועה איטית.
- טיפוגרפיה: כותרות גודל 48–64px, טקסט משנה 28–32px, שוליים נדיבים.
- צבעים: כחול עמוק + גווני שמנת, אייקונים PNG לחזותיות (נרות, כוכבים, תו מוזיקלי).
- מצב כהה/בהיר: אופציונלי, אך כברירת מחדל גווני לילה רכים.

## מודל נתונים (JSON)

```json
{
  "settings": {
    "city": "Jerusalem",
    "rotationSeconds": 25
  },
  "cards": [
    {
      "id": 1,
      "category": "השראה",
      "title": "אור נרות",
      "quote": "כי נר ה' נשמת אדם",
      "description": "התבוננות קצרה לפני ההדלקה.",
      "practical": "רשמו מילה אחת שאתם מאירים השבוע.",
      "reflection": [
        "מה אני רוצה להאיר בבית?",
        "למי אני אומר תודה?"
      ],
      "action": "הנחו את המשפחה להגדיר 'דקת אור' לפני הקידוש.",
      "media": {
        "emoji": "🕯️",
        "background": "images/panel/candles.png"
      }
    }
  ],
  "ticker": [
    "טיפ: להכין שיר פתיחה חדש מראש.",
    "משימת חסד: שלחו הודעת עידוד לחבר."
  ]
}
```

- הנתונים יישמרו בקובץ `data/panel-content.json`.
- ניתן להרחיב לפי קטגוריות (פתיחה, לימוד, ילדים) או לפי סדר כרונולוגי של הסעודה.

## לוגיקה ואנימציות

- JavaScript מודולרי (`panel.js`) ש:
  - טוען JSON, בוחר את הקלף הבא ומציגו.
  - מפעיל טיימר (setInterval) לרענון התוכן כל `rotationSeconds`.
  - מחשב זמן שנותר/שחלף ביחס לכניסת/יציאת שבת (ספריית `luxon` או `dayjs` עם תמיכה בלוח עברי, או חישוב ידני עבור עיר נתונה).
  - מפעיל אנימציות CSS באמצעות הוספת/הסרת מחלקות (`.fade-in`, `.slide-up`).
- אנימציות ללא SVG:
  - שימוש ב־`@keyframes` עבור gradient נע.
  - כרטיסים נכנסים עם `opacity` + `transform: translateY`.
  - פס התקדמות (`progress bar`) מתמלא באמצעות שינוי רוחב.

## תשתית טכנית

- קובץ HTML סטטי חדש.
- `panel.js` + `panel.css` ייעודיים (לא לערבב עם ה־CSS של העמוד הראשי).
- שימוש ב־`Fullscreen API` (`requestFullscreen`) עבור כפתור “מסך מלא”.
- הסתרת סמן עכבר אחרי כמה שניות (`cursor: none;` עם timeout).
- שמירה על יחס 16:9 באמצעות wrapper (`aspect-ratio: 16 / 9;`) או הגדלת האלמנטים עם `vh/vw`.

## שלבי מימוש מוצעים

1. **שלד HTML ו־CSS בסיסי**: מבנה גריד, רקע, טיפוגרפיה.
2. **טעינת JSON**: בניית מודל נתונים ראשוני ומימוש הצגה סטטית של קלף.
3. **סבב תכנים**: הוספת לולאת רענון ואנימציות כניסה/יציאה.
4. **שעון שבת**: חיבור לנתוני זמני כניסת/יציאה (API חיצוני או קובץ מקומי) והצגת ספירה לאחור.
5. **מצב מסך מלא והסתרת סמן**: חוויית kiosk מלאה.
6. **QA והקשחה**: בדיקה בטלוויזיה (Chromecast/Smart TV), אופטימיזציה לפונט גדול, בדיקה ללא אינטראקציות.

## הרחבות ט未来

- שילוב בורר עיר/קהילה לשינוי זמני שבת.
- תזמון קלפים בהתאם ללוח השנה (חגים, פרשיות).
- כפתור “דלג קדימה” הנשלט מהטלפון (WebSocket פשוט או QR לכתובת שליטה).
- מצב “שבת מנוחה” שמציג רקע דינמי ומוזיקה שקטה (הטמעת נגן `<audio>` במידת הצורך).

המסמך מהווה בסיס לבניית הפאנל. בשלב הבא אפשר להתחיל בבניית קבצי שלד (`panel.html`, `panel.css`, `panel.js`) ולהזנת תכנים מבוססי JSON.
